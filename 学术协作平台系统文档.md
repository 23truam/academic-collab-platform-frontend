# 学术协作平台系统文档

## 目录

### 第一章 系统页面

#### 1.1 登录页面
**对应文件：** `src/pages/LoginPage.tsx`

用户身份验证页面，支持用户名或邮箱登录，登录成功后建立WebSocket连接并设置在线状态。

#### 1.2 注册页面
**对应文件：** `src/pages/RegisterPage.tsx`

用户注册页面，提供新用户账户创建功能。

#### 1.3 用户简介页面
**对应文件：** `src/pages/PersonalPage.tsx`

个人主页，展示用户个人信息和最近搜索记录，支持快速跳转到搜索页面。

#### 1.4 论文作者简介页面
**对应文件：** `src/pages/AuthorDocument.tsx`

作者详细信息页面，包含论文发表统计图表、合作关系网络图、论文列表展示和相关作者推荐功能。

#### 1.5 论文作者搜索页面
**对应文件：** `src/pages/ProfessorSearchPage.tsx`

教授搜索页面，支持关键词搜索、分页展示、论文数量统计和搜索历史记录。

### 第二章 系统组件

#### 2.1 导航组件
**对应文件：** `src/components/Navbar.tsx`

顶部导航栏组件，提供各页面间的跳转导航。

#### 2.2 消息组件
**对应文件：** `src/pages/ChatPage.tsx`

仿微信聊天界面，支持实时消息传递、用户列表显示、在线状态指示。

#### 2.3 收发消息组件
**对应文件：** `src/services/chatService.ts`

消息发送和接收服务，处理聊天消息的发送、接收、历史记录获取等功能。

#### 2.4 最近搜索组件
**对应文件：** `src/services/searchHistoryService.ts`

搜索历史管理服务，提供搜索记录的添加、获取、清空等功能。

### 第三章 功能组件

#### 3.1 合作分析页面
**对应文件：** `src/pages/CollaborationAnalysisPage.tsx`

学术合作关系分析页面，提供合作网络可视化功能。

#### 3.2 合作分析组件
**对应文件：** `src/pages/CollaborationPrediction.tsx`

合作者预测页面，使用算法分析和预测潜在的学术合作伙伴，包含相似度计算和推荐算法。

#### 3.3 DeepSeek 大模型搜索页面
**对应文件：** `src/pages/LiteratureSearchPage.tsx`

基于DeepSeek AI的文献搜索页面，支持智能文献搜索和结果展示。

#### 3.4 DeepSeek 调试调用组件
**对应文件：** `src/services/literatureService.ts`

DeepSeek API调用服务，处理与DeepSeek AI模型的接口交互。

#### 3.5 联系人组件
**对应文件：** `src/components/OnlineStatusIndicator.tsx`

在线状态指示器组件，显示用户的在线/离线状态。

#### 3.6 联系人消息存储组件
**对应文件：** `src/main/java/com/example/academic_collab_platform_backend/controller/ChatController.java`

后端聊天控制器，处理消息存储、发送、接收等API接口。

#### 3.7 搜索历史组件
**对应文件：** `src/main/java/com/example/academic_collab_platform_backend/controller/SearchHistoryController.java`

后端搜索历史控制器，管理用户搜索历史的增删查改操作。

### 第四章 其他

#### 4.1 程序入口
**对应文件：** 
- 前端：`src/main.tsx`
- 后端：`src/main/java/com/example/academic_collab_platform_backend/AcademicCollabPlatformBackendApplication.java`

#### 4.2 合作者分析页面样式
**对应文件：** `src/styles/CollaborationPrediction.css`

#### 4.3 论文作者简介样式
**对应文件：** `src/styles/AuthorDocument.css`

## 系统架构

### 技术栈
- **前端**: React 18 + TypeScript + Vite + TailwindCSS + Ant Design
- **后端**: Spring Boot 2.7.18 + MyBatis Plus + MySQL
- **实时通信**: WebSocket + STOMP
- **数据可视化**: ECharts
- **AI集成**: DeepSeek API

### 数据库设计

#### 聊天消息表
```sql
CREATE TABLE chat_messages (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    sender_id BIGINT NOT NULL,
    receiver_id BIGINT NOT NULL,
    content TEXT NOT NULL,
    message_type VARCHAR(20) DEFAULT 'TEXT',
    is_read BOOLEAN DEFAULT FALSE,
    create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 搜索历史表
```sql
CREATE TABLE search_history (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL,
    keyword VARCHAR(255) NOT NULL,
    type VARCHAR(20) NOT NULL,
    timestamp BIGINT NOT NULL
);
```

### API接口

#### REST API端点
- `/api/auth/*` - 用户认证
- `/api/chat/*` - 聊天功能
- `/api/search-history/*` - 搜索历史
- `/api/authors/*` - 作者信息
- `/api/literature/*` - 文献搜索
- `/api/collaboration/*` - 合作预测

#### WebSocket端点
- `/ws` - WebSocket连接端点
- `/app/chat.sendMessage` - 发送消息
- `/user/{userId}/queue/messages` - 个人消息订阅

### 核心功能模块

1. **用户管理模块**：用户注册、登录、个人信息管理
2. **搜索模块**：教授搜索、文献搜索、搜索历史管理
3. **分析模块**：作者统计分析、合作关系分析、合作预测
4. **通信模块**：实时聊天、在线状态、消息管理
5. **可视化模块**：图表展示、关系网络图

### 部署说明

#### 开发环境
```bash
# 后端启动
cd academic-collab-platform-backend
mvn spring-boot:run

# 前端启动
cd academic-collab-platform-frontend
npm install
npm run dev
```

#### 生产环境
```bash
# 前端构建
npm run build

# 后端打包
mvn clean package

# 部署到服务器
java -jar target/academic-collab-platform-backend.jar
```

### 配置说明

#### 环境变量
```env
# 前端配置
VITE_API_BASE_URL=http://localhost:8080
VITE_DEEPSEEK_API_KEY=your_api_key_here

# 后端配置
spring.datasource.url=jdbc:mysql://localhost:3306/academic_collab
spring.datasource.username=your_username
spring.datasource.password=your_password
```

这个学术协作平台提供了完整的学术研究协作功能，包括用户管理、智能搜索、数据分析、实时通信等核心模块，为学术研究人员提供了高效的协作工具。